function enableSearch(){function a(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]===a)return decodeURIComponent(e[1].replace(/\+/g,"%20"))}}function b(a,b){var c=document.getElementById("search"),d=document.getElementById("empty");if(a.length){for(var e="",f=0;f<a.length;f++){var g=b[a[f].ref],h=g.featured?'<span class="card-featured"></span>':"",i=g.featured?"featured ":"",j=g.online?'<span class="card-online">ONLINE</span>':"",k=g.new?'<span class="card-badge">NOU</span>':"",l=0===g.facebook.length?"":"<a aria-label='Facebook' target='_blank' class='card-link facebook' href='https://facebook.com/"+g.facebook+"'></a>",m=0===g.instagram.length?"":"<a aria-label='Instagram' target='_blank' class='card-link instagram' href='https://instagram.com/"+g.instagram+"'></a>",n=0===g.website.length?"":"<a aria-label='Website' target='_blank' class='card-link website' href='http://"+g.website+"'></a>";e+='<div class="shop col-12 col-md-4 mb-1 '+i+g.categories.join(" ")+'"><div class="card-shop ">'+h+'<div class="badges">'+j+k+'</div><div class="card-social">'+l+m+n+'</div><a class="card-title" href="'+g.url+'">'+g.title+'</a><div class="card-overlay"></div><a href="'+g.url+'"><img class="shop-image" src="'+g.image+'" alt="'+g.title+'" loading="eager"></a></div></div>'}c.innerHTML=e}else c.innerHTML="",d.style.display="flex",c.appendChild(d)}document.querySelector("#search-form").addEventListener("reset",function(){window.location=window.location.href.split("?")[0]});var c=a("query");if(c){document.getElementById("search-box").setAttribute("value",c);var d=lunr(function(){this.field("id"),this.field("title",{boost:10}),this.field("county"),this.field("category"),this.field("keywords",{boost:5})});for(var e in searchJSON){d.add({id:e,title:searchJSON[e].title,county:searchJSON[e].county,category:searchJSON[e].category,keywords:searchJSON[e].keywords});b(d.search(c),searchJSON)}}}function validateForm(a){function b(){var a=$(this).val().replace(/\D/g,"");$(this).val("+40 ("+a.substring(2,5)+(a.length>4?")":"")+(a.length>4?" "+a.substring(5,8):"")+(a.length>7?" "+a.substring(8,11):"")+(a.length>9?""+a.substring(11,14):""))}$(a).validate({ignore:".ignore",errorElement:"span",errorPlacement:function(a,b){var c=$(b).data("error");c?$(c).append(a):a.insertBefore(b)},rules:{name:"required",contactperson:"required",telephone:"required",email:{required:!0,email:!0},message:"required",terms:"required"},messages:{name:"Te rugăm să introduci un nume valid.",contactperson:"Te rugăm să introduci un nume valid.",telephone:"Te rugăm să introduci un număr valid.",email:"Te rugăm să introduci o adresă validă.",message:"Te rugăm să introduci minimum 30 de litere.",terms:""},submitHandler:function(a){a.submit()}}),$('[type="tel"]').keyup(b)}function enableFilters(){function a(a,b){var c;return b=b||100,function(){function d(){a.apply(f,e)}clearTimeout(c);var e=arguments,f=this;c=setTimeout(d,b)}}function b(){var a=o.filteredItems;a.length?(g.css("display",""),1==a.length?h.text(a.length+" rezultat"):h.text(a.length+" rezultate")):(g.css("display","flex"),h.text(""))}var c,d,e,f={},g=$("#empty"),h=$(".filter-count"),i=$(".select-filters select"),j=$(".checkbox-filters input"),k=$(".filters .filter-button"),l=$(".checkbox-sorts input"),m=$("#quicksearch"),n=$(".shops").isotope({itemSelector:".shop",getSortData:{name:".card-title",featured:function(a){return $(a).hasClass("featured")?0:1}},transitionDuration:500,stagger:30,resizeContainer:!0,layoutMode:"fitRows",visibleStyle:{opacity:1,transform:"translateY(0)"},hiddenStyle:{opacity:0,transform:"translateY(100px)"},filter:function(){var a=$(this),b=!c||a.text().match(c),f=!d||a.is(d),g=!e||a.is(e);return b&&f&&g}}),o=n.data("isotope");b(),i.add(j).change(function(){var a=[],c=[];i.each(function(b,c){c.value&&a.push(c.value)}),j.each(function(a,b){b.checked&&c.push(b.value)}),a=a.join(""),c.length?(e=$.map(c,function(b){return b+a}),e=e.join(", ")):e=a,n.isotope(),b()}),l.change(function(){var a=[],b=$(this).prop("checked");l.prop("checked",!1),$(this).prop("checked",b),l.each(function(b,c){c.checked&&a.push(c.value);var d;d=a.length?a:"original-order",n.isotope({sortBy:d})})}),k.click(function(){var a={greaterThan50:function(){var a=$(this).find(".number").text();return parseInt(a,10)>50},even:function(){var a=$(this).find(".number").text();return parseInt(a,10)%2==0}},b=$(this),c=b.parents(".button-group"),e=c.attr("data-filter-group");f[e]=b.attr("data-filter"),d=function(){var b=!0,c=$(this);for(var d in f){var e=f[d];if(e=a[e]||e,e&&(b=b&&c.is(e)),!b)break}return b},n.isotope()}),m.keyup(a(function(){c=new RegExp(m.val(),"gi"),n.isotope()})),$(".button-group").each(function(a,b){var c=$(b);c.on("click",".filter-button",function(){c.find(".active").removeClass("active"),$(this).addClass("active")})})}$(document).ready(function(){"use strict";if($(".container > ul > li:has( > ul)").addClass("menu-dropdown-icon"),$(".container > ul > li > ul:not(:has(ul))").addClass("normal-sub"),$(".container > ul").after('<a class="menu-mobile"></a>'),$(".container > ul").after("<a href='/shops#search-box' class='mobile-search'><i class='fas fa-search'></i></a>"),$(".container > ul > li").hover(function(a){$(window).width()>943&&($(this).children("ul").stop(!0,!1).fadeToggle(150),a.preventDefault())}),$(".container > ul > li").click(function(){$(window).width()<=943&&$(this).children("ul").fadeToggle(150)}),$(".menu-mobile").click(function(a){$(".container > ul").toggleClass("show-on-mobile"),a.preventDefault()}),$(window).resize(function(){$(".menu > ul > li").children("ul").hide(),$(".menu > ul").removeClass("show-on-mobile")}),window.matchMedia){var a=$('head > link[rel="icon"][media]');$.each(a,function(b,c){function d(){e.matches&&(a.remove(),a=$(c).appendTo("head"))}var e=window.matchMedia(c.media);e.addEventListener("change",d),d()})}}),$("#search-box").focus(function(){return $("html, body").animate({scrollTop:$("#search-box").offset().top-10},500),!1});var progressPath=document.querySelector(".progress-wrap path"),pathLength=progressPath.getTotalLength();progressPath.style.transition=progressPath.style.WebkitTransition="none",progressPath.style.strokeDasharray=pathLength+" "+pathLength,progressPath.style.strokeDashoffset=pathLength,progressPath.getBoundingClientRect(),progressPath.style.transition=progressPath.style.WebkitTransition="stroke-dashoffset 10ms linear";var updateProgress=function(){var a=$(window).scrollTop(),b=$(document).height()-$(window).height(),c=pathLength-a*pathLength/b;progressPath.style.strokeDashoffset=c};updateProgress(),$(window).scroll(updateProgress);var offset=50,duration=550;jQuery(window).on("scroll",function(){jQuery(this).scrollTop()>offset?jQuery(".progress-wrap").addClass("active-progress"):jQuery(".progress-wrap").removeClass("active-progress")}),jQuery(".progress-wrap").on("click",function(a){return a.preventDefault(),jQuery("html, body").animate({scrollTop:0},duration),!1});
//# sourceMappingURL=scripts.min.js.map